CKEDITOR.plugins.add("collapsetoolbar",{lang:"co da de en-gb en-us es fi fr it lt nb nl nn-no pl pt-br sv tr zh-cn".split(" "),init:function(b){var d=b.config.collapsetoolbar.Id,c=b.lang[d],a=b.config.collapsetoolbar.ExtraSettings,e=a&&a.VisibleItemIndices?a.VisibleItemIndices:[0,1],g=a&&a.KpiUrl?a.KpiUrl:void 0,h=a&&a.KpiSection?a.KpiSection:void 0,k=a&&a.KpiMeasurement?a.KpiMeasurement:void 0,l=a&&a.KpiContext?a.KpiContext:void 0;b.addCommand(d,{exec:function(a){var b=$(".cke_toolbox",a.container.$),
d=b.find(".cke_button__collapsetoolbar"),e=d.find(".cke_button__collapsetoolbar_label"),f=!b.hasClass("ccl-texteditor-toobar-forceexpand");b.toggleClass("ccl-texteditor-toobar-forceexpand");e.text(f?c.hideOptions:c.moreOptions);d.prop("title",f?c.hideOptionsToolTip:c.moreOptionsToolTip);a.fire("collapsetoolbar.toggle",{expanded:f});g&&h&&k&&l&&CommonFunctions.measureKpi(g,h,k,l)}});b.ui.addButton("collapsetoolbar",{label:c.moreOptions,title:c.moreOptionsToolTip,command:d});b.on("instanceReady",function(){var a=
$(".cke_toolbox",b.container.$);a.find(".cke_button__collapsetoolbar").parent().parent().addClass("ccl-texteditor-collapsetoolbar-section");a.children().each(function(a,b){0>e.indexOf(a)&&$(b).addClass("ccl-texteditor-toobar-hideable")});a.show()})},afterInit:function(b){if(CommonFunctions.isEdge()||CommonFunctions.isIe())window.onerror=function(b,c,a){-1!==c.indexOf("ckeditor.js")&&setTimeout(function(){for(var a in CKEDITOR.instances){var b=CKEDITOR.instances[a];"loaded"===b.status&&(b.status="ready",
b.fire("instanceReady",null,b))}"loaded"===CKEDITOR.status&&(CKEDITOR.status="ready",CKEDITOR.fire("instanceReady",null,b))},200)}}});
